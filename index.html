<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>japan-vending-machine-heaven</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css" />
    <link rel="stylesheet" href="style.css" />
    <link href="https://fonts.googleapis.com/css?family=Kaisei+Decol" rel="stylesheet">
    
    <style>
      #scrolly {
        position: relative;
        padding: 1rem;
      }

      .scrolly-overlay {
        position: relative;
        padding: 0;
        max-width: 35rem;
        margin: 0 auto;
      }

      .sticky-thing {
        position: -webkit-sticky;
        position: sticky;
        left: 0;
        width: 100%;
        margin: 0;
        z-index: 0;
        top: 0;
        /* height: 100vh; */
        /* Center everything inside */
        display: flex;
        justify-content: center;
        flex-direction: column;
        justify-content: center;
      }

      .sticky-thing p {
        margin-bottom: 2rem;
      }

      .step {
        margin: 0 auto 2rem auto;
        margin-bottom: 40rem;
        background-color: #eee;
        background-color: #fff;
        color: black;
      }

      .step p {
        text-align: center;
        padding: 1rem;
        font-size: 1.25rem;
      }


      .hidden { visibility: hidden; }

      /* When it's less than 700 pixels wide, do normal scrollytelling */
      @media only screen and (min-width: 700px) {
        #scrolly.side-by-side {
          display: flex;
        }

        #scrolly.side-by-side > div {
          flex-basis: 0;
          flex-grow: 1;
          flex-shrink: 1;
          padding: 0.75em;
        }

        #scrolly.side-by-side .scrolly-overlay {
          margin-top: 70vh;
          order: 0;
          /* Change these to adjust sizing options */
          min-width: 15rem;
          max-width: 20rem;
        }

        /*hover*/
        /*only works with single item*/
        #house-marker:hover {
          fill: rgb(25, 0, 255);
        }

        #scrolly.side-by-side .sticky-thing {
          order: 1;
          flex-grow: 2;
        }
      }
    </style>
	<script src="https://unpkg.com/intersection-observer@0.5.1/intersection-observer.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/scrollama/3.0.4/scrollama.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.3.0/d3.min.js"></script>
	
  </head>

  <body>
    <section id="intro">
        <div class="text_box font_jp">
            <h1>自動販売機天国、日本の課題</h1>
            <h1 class="intro__hed"></h1><i>Japan, the Vending Machine Heaven;<br>Convenience vs Environment</i></h1>
        </div>
        <p class="intro__dek">
            <i>Japan is a vending machine heaven. In urban areas like Tokyo, you can find a vending machine on literally every coner of streets. While people enjoy the benefits of convenience, there is a growing concern over environmental issues as they are prolifirating non-refillable PET bottles and consuming huge amount of electricity.</i>
        </p>
        <br>
        <p style="font-family:'Kaisei Decol', serif;"><i>By Mio Tomita<br>July 29, 2022</i></p>
      </section>
      
    <section id="scrolly">
        <div class="sticky-thing">
            <p style="font-family:'Kaisei Decol', serif;">
                近所の自販機とコンビニ<br>
                Vending machines & convenience stores in my neighborhood
            </p>
            <div class="ai2html-container">
                <!-- ai2html goes below this line -->
                <!-- Generated by ai2html v0.111.0 - 2022-07-27 12:35 -->
                <!-- ai file: map-final.ai -->
                <style media="screen,print">
                    #g-map-final-Artboard_1-box ,
                    #g-map-final-Artboard_1-box .g-artboard {
                        margin:0 auto;
                    }
                    #g-map-final-Artboard_1-box p {
                        margin:0;
                    }
                    #g-map-final-Artboard_1-box .g-aiAbs {
                        position:absolute;
                    }
                    #g-map-final-Artboard_1-box .g-aiImg {
                        position:absolute;
                        top:0;
                        display:block;
                        width:100% !important;
                    }
                    #g-map-final-Artboard_1-box .g-aiSymbol {
                        position: absolute;
                        box-sizing: border-box;
                    }
                    #g-map-final-Artboard_1-box .g-aiPointText p { white-space: nowrap; }
                    #g-map-final-Artboard_1 {
                        position:relative;
                        overflow:hidden;
                    }
                    #g-map-final-Artboard_1 p {
                        font-family:arial,helvetica,sans-serif;
                        line-height:19px;
                        opacity:1;
                        letter-spacing:0em;
                        font-size:16px;
                        text-align:left;
                        color:rgb(0,0,0);
                        text-transform:none;
                        padding-bottom:0;
                        padding-top:0;
                        mix-blend-mode:normal;
                        font-style:normal;
                        height:auto;
                        position:static;
                    }
                    #g-map-final-Artboard_1 .g-pstyle0 {
                        height:19px;
                        color:rgb(51,51,51);
                        font-size:24px;
                        font-family: 'Kaisei Decol', serif;
                    }
                    #g-map-final-Artboard_1 .g-pstyle1 {
                        line-height:14px;
                        height:14px;
                        font-size:24px;
                        font-family: 'Kaisei Decol', serif;
                    }
                    #g-map-final-Artboard_1 .g-pstyle2 {
                        line-height:12px;
                        height:12px;
                        font-size:10px;
                        color:rgb(51,51,51);
                    }
                    #g-map-final-Artboard_1 .g-pstyle3 {
                        line-height:13px;
                        height:13px;
                        font-size:11px;
                    }

                </style>

                <div id="g-map-final-Artboard_1-box" class="ai2html">
                    <!-- Artboard: Artboard_1 -->
                    <div id="g-map-final-Artboard_1" class="g-artboard" style="" data-aspect-ratio="1.4" data-min-width="0">
                        <div style="padding: 0 0 71.4286% 0;"></div>
                        <img id="g-map-final-Artboard_1-img" class="g-map-final-Artboard_1-img g-aiImg" alt="" src="map-final-Artboard_1.png"/>
                        <!-- Generator: Adobe Illustrator 26.3.1, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
                        <svg class="g-map-final-Artboard_1-interactions-img g-aiImg" version="1.2" baseProfile="tiny" id="g-map-final-Artboard_1-interactions-img" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                            x="0px" y="0px" viewBox="0 0 700 500" overflow="visible" xml:space="preserve">
                            <g>
                                <polyline id="path-d" class="path" data-name="path-d" fill="none" stroke="#008DD0" stroke-width="4" stroke-dasharray="1.332,1.332" points="
                                    468,223.075 458.347,208.595 404.678,248.593 359.823,176.174 220,258.959 223.374,263.645 	"/>
                                <polyline id="path-m" class="path" data-name="path-m" fill="none" stroke="#00D0C5" stroke-width="4" stroke-dasharray="1.332,1.332" points="
                                    329.832,405.33 334.326,410.996 461,327.108 428.758,279.42 480.382,241.647 472.037,229.06 	"/>
                                <g id="machine-marker" style="opacity:0.9;">
                                    <path id="vm-1" class="machine" data-name="vm1" fill="#EE493A" d="M494.282,227.453
                                        c0.004,1.353-0.28,2.691-0.832,3.926c-1.456,3.25-8.45,12.636-8.45,12.636s-6.968-9.386-8.45-12.636
                                        c-0.552-1.235-0.836-2.573-0.832-3.926c-0.043-5.169,4.112-9.395,9.281-9.438c0,0,0,0,0.001,0
                                        C490.169,218.058,494.325,222.283,494.282,227.453C494.282,227.453,494.282,227.453,494.282,227.453z"/>
                                    <path id="vm-2" class="machine" data-name="vm2" fill="#EE493A" d="M483.282,226.453
                                        c0.004,1.353-0.28,2.691-0.832,3.926c-1.456,3.25-8.45,12.636-8.45,12.636s-6.968-9.386-8.45-12.636
                                        c-0.552-1.235-0.836-2.573-0.832-3.926c-0.043-5.169,4.112-9.395,9.281-9.438c0,0,0,0,0.001,0
                                        C479.169,217.058,483.325,221.283,483.282,226.453C483.282,226.453,483.282,226.453,483.282,226.453z"/>
                                    <path id="vm-3" class="machine" data-name="vm3" fill="#EE493A" d="M448.282,261.453
                                        c0.004,1.353-0.28,2.691-0.832,3.926c-1.456,3.25-8.45,12.636-8.45,12.636s-6.968-9.386-8.45-12.636
                                        c-0.552-1.235-0.836-2.573-0.832-3.926c-0.043-5.169,4.112-9.395,9.281-9.438c0,0,0,0,0.001,0
                                        C444.169,252.058,448.325,256.283,448.282,261.453C448.282,261.453,448.282,261.453,448.282,261.453z"/>
                                    <path id="vm-4" class="machine" data-name="vm" fill="#EE493A" d="M304.282,339.453
                                        c0.004,1.353-0.28,2.691-0.832,3.926c-1.456,3.25-8.45,12.636-8.45,12.636s-6.968-9.386-8.45-12.636
                                        c-0.552-1.235-0.836-2.573-0.832-3.926c-0.043-5.169,4.112-9.395,9.281-9.438c0,0,0,0,0.001,0
                                        C300.169,330.058,304.325,334.283,304.282,339.453C304.282,339.453,304.282,339.453,304.282,339.453z"/>
                                    <path id="vm-5" class="machine" data-name="vm" fill="#EE493A" d="M489.282,281.453
                                        c0.004,1.353-0.28,2.691-0.832,3.926c-1.456,3.25-8.45,12.636-8.45,12.636s-6.968-9.386-8.45-12.636
                                        c-0.552-1.235-0.836-2.573-0.832-3.926c-0.043-5.169,4.112-9.395,9.281-9.438c0,0,0,0,0.001,0
                                        C485.169,272.058,489.325,276.283,489.282,281.453C489.282,281.453,489.282,281.453,489.282,281.453z"/>
                                    <path id="vm-6" class="machine" data-name="vm" fill="#EE493A" d="M532.282,233.453
                                        c0.004,1.353-0.279,2.691-0.832,3.926c-1.456,3.25-8.45,12.636-8.45,12.636s-6.968-9.386-8.45-12.636
                                        c-0.552-1.235-0.836-2.573-0.832-3.926c-0.043-5.169,4.112-9.395,9.281-9.438c0,0,0,0,0.001,0
                                        C528.169,224.058,532.325,228.283,532.282,233.453C532.282,233.453,532.282,233.453,532.282,233.453z"/>
                                    <path id="vm-7" class="machine" data-name="vm" fill="#EE493A" d="M374.282,265.453
                                        c0.004,1.353-0.28,2.691-0.832,3.926c-1.456,3.25-8.45,12.636-8.45,12.636s-6.968-9.386-8.45-12.636
                                        c-0.552-1.235-0.836-2.573-0.832-3.926c-0.043-5.169,4.112-9.395,9.281-9.438c0,0,0,0,0.001,0
                                        C370.169,256.058,374.325,260.283,374.282,265.453C374.282,265.453,374.282,265.453,374.282,265.453z"/>
                                    <path id="vm-8" class="machine" data-name="vm" fill="#EE493A" d="M366.282,264.453
                                        c0.004,1.353-0.28,2.691-0.832,3.926c-1.456,3.25-8.45,12.636-8.45,12.636s-6.968-9.386-8.45-12.636
                                        c-0.552-1.235-0.836-2.573-0.832-3.926c-0.043-5.169,4.112-9.395,9.281-9.438c0,0,0,0,0.001,0
                                        C362.169,255.058,366.325,259.283,366.282,264.453C366.282,264.453,366.282,264.453,366.282,264.453z"/>
                                    <path id="vm-9" class="machine" data-name="vm" fill="#EE493A" d="M398.282,216.453
                                        c0.004,1.353-0.28,2.691-0.832,3.926c-1.456,3.25-8.45,12.636-8.45,12.636s-6.968-9.386-8.45-12.636
                                        c-0.552-1.235-0.836-2.573-0.832-3.926c-0.043-5.169,4.112-9.395,9.281-9.438c0,0,0,0,0.001,0
                                        C394.169,207.058,398.325,211.283,398.282,216.453C398.282,216.453,398.282,216.453,398.282,216.453z"/>
                                    <path id="vm-10" class="machine" data-name="vm" fill="#EE493A" d="M323.282,330.453
                                        c0.004,1.353-0.28,2.691-0.832,3.926c-1.456,3.25-8.45,12.636-8.45,12.636s-6.968-9.386-8.45-12.636
                                        c-0.552-1.235-0.836-2.573-0.832-3.926c-0.043-5.169,4.112-9.395,9.281-9.438c0,0,0,0,0.001,0
                                        C319.169,321.058,323.325,325.283,323.282,330.453C323.282,330.453,323.282,330.453,323.282,330.453z"/>
                                    <path id="vm-11" class="machine" data-name="vm" fill="#EE493A" d="M243.282,176.453
                                        c0.004,1.353-0.279,2.691-0.832,3.926c-1.456,3.25-8.45,12.636-8.45,12.636s-6.968-9.386-8.45-12.636
                                        c-0.553-1.235-0.836-2.573-0.832-3.926c-0.043-5.169,4.112-9.395,9.281-9.438c0,0,0,0,0.001,0
                                        C239.169,167.058,243.325,171.283,243.282,176.453C243.282,176.453,243.282,176.453,243.282,176.453z"/>
                                    <path id="vm-12" class="machine" data-name="vm" fill="#EE493A" d="M311.282,153.453
                                        c0.004,1.353-0.28,2.691-0.832,3.926c-1.456,3.25-8.45,12.636-8.45,12.636s-6.968-9.386-8.45-12.636
                                        c-0.552-1.235-0.836-2.573-0.832-3.926c-0.043-5.169,4.112-9.395,9.281-9.438c0,0,0,0,0.001,0
                                        C307.169,144.058,311.325,148.283,311.282,153.453C311.282,153.453,311.282,153.453,311.282,153.453z"/>
                                    <path id="vm-13" class="machine" data-name="vm" fill="#EE493A" d="M364.282,302.453
                                        c0.004,1.353-0.28,2.691-0.832,3.926c-1.456,3.25-8.45,12.636-8.45,12.636s-6.968-9.386-8.45-12.636
                                        c-0.552-1.235-0.836-2.573-0.832-3.926c-0.043-5.169,4.112-9.395,9.281-9.438c0,0,0,0,0.001,0
                                        C360.169,293.058,364.325,297.283,364.282,302.453C364.282,302.453,364.282,302.453,364.282,302.453z"/>
                                    <path id="vm-14" class="machine" data-name="vm" fill="#EE493A" d="M230.282,284.453
                                        c0.004,1.353-0.279,2.691-0.832,3.926c-1.456,3.25-8.45,12.636-8.45,12.636s-6.968-9.386-8.45-12.636
                                        c-0.553-1.235-0.836-2.573-0.832-3.926c-0.043-5.169,4.112-9.395,9.281-9.438c0,0,0,0,0.001,0
                                        C226.169,275.058,230.325,279.283,230.282,284.453C230.282,284.453,230.282,284.453,230.282,284.453z"/>
                                    <path id="vm-15" class="machine" data-name="vm" fill="#EE493A" d="M381.282,424.453
                                        c0.004,1.353-0.28,2.691-0.832,3.926c-1.456,3.25-8.45,12.636-8.45,12.636s-6.968-9.386-8.45-12.636
                                        c-0.552-1.235-0.836-2.573-0.832-3.926c-0.043-5.169,4.112-9.395,9.281-9.438c0,0,0,0,0.001,0
                                        C377.169,415.058,381.325,419.283,381.282,424.453C381.282,424.453,381.282,424.453,381.282,424.453z"/>
                                    <path id="vm-d4" class="machine" data-name="vm-d4" fill="#EE493A" d="M246.282,211.453
                                        c0.004,1.353-0.279,2.691-0.832,3.926c-1.456,3.25-8.45,12.636-8.45,12.636s-6.968-9.386-8.45-12.636
                                        c-0.553-1.235-0.836-2.573-0.832-3.926c-0.043-5.169,4.112-9.395,9.281-9.438c0,0,0,0,0.001,0
                                        C242.169,202.058,246.325,206.283,246.282,211.453C246.282,211.453,246.282,211.453,246.282,211.453z"/>
                                    <path id="vm-d1" class="machine" data-name="vm-d1" fill="#EE493A" d="M264.282,235.453
                                        c0.004,1.353-0.28,2.691-0.832,3.926c-1.456,3.25-8.45,12.636-8.45,12.636s-6.968-9.386-8.45-12.636
                                        c-0.553-1.235-0.836-2.573-0.832-3.926c-0.043-5.169,4.112-9.395,9.281-9.438c0,0,0,0,0.001,0
                                        C260.169,226.058,264.325,230.283,264.282,235.453C264.282,235.453,264.282,235.453,264.282,235.453z"/>
                                    <path id="vm-d2" class="machine" data-name="vm-d2" fill="#EE493A" d="M399.282,125.453
                                        c0.004,1.353-0.28,2.691-0.832,3.926c-1.456,3.25-8.45,12.636-8.45,12.636s-6.968-9.386-8.45-12.636
                                        c-0.552-1.235-0.836-2.573-0.832-3.926c-0.043-5.169,4.112-9.395,9.281-9.438c0,0,0,0,0.001,0
                                        C395.169,116.058,399.325,120.283,399.282,125.453C399.282,125.453,399.282,125.453,399.282,125.453z"/>
                                    <path id="vm-d3" class="machine" data-name="vm-d3" fill="#EE493A" d="M358.282,147.453
                                        c0.004,1.353-0.28,2.691-0.832,3.926c-1.456,3.25-8.45,12.636-8.45,12.636s-6.968-9.386-8.45-12.636
                                        c-0.552-1.235-0.836-2.573-0.832-3.926c-0.043-5.169,4.112-9.395,9.281-9.438c0,0,0,0,0.001,0
                                        C354.169,138.058,358.325,142.283,358.282,147.453C358.282,147.453,358.282,147.453,358.282,147.453z"/>
                                </g>
                                <g id="store-marker" data-name="store-marker">
                                    <path id="store-m" class="store" data-name="store-m" fill="#FA8C00" d="M455,198c0-0.533,0.2-1,0.6-1.4
                                        c0.4-0.4,0.867-0.6,1.4-0.6c0.56,0,1.033,0.2,1.42,0.6c0.387,0.4,0.58,0.867,0.58,1.4c0,0.56-0.193,1.033-0.58,1.42
                                        c-0.387,0.387-0.86,0.58-1.42,0.58c-0.533,0-1-0.193-1.4-0.58C455.2,199.033,455,198.56,455,198z M465,198c0-0.533,0.2-1,0.6-1.4
                                        c0.4-0.4,0.867-0.6,1.4-0.6c0.56,0,1.033,0.2,1.42,0.6c0.387,0.4,0.58,0.867,0.58,1.4c0,0.56-0.193,1.033-0.58,1.42
                                        c-0.387,0.387-0.86,0.58-1.42,0.58c-0.533,0-1-0.193-1.4-0.58C465.2,199.033,465,198.56,465,198z M458.56,193.28
                                        c-0.48,0.133-0.707,0.287-0.68,0.46c0.027,0.173,0.32,0.26,0.88,0.26H470v1.52c0,0.267-0.133,0.4-0.4,0.4h-13.08
                                        c-0.267,0-0.4-0.133-0.4-0.4V194l-0.2-0.92l-1.96-9.08H452v-1.6c0-0.267,0.133-0.4,0.4-0.4h3.12c0.267,0,0.4,0.133,0.4,0.4v1.72
                                        H470v5.48c0,0.293-0.12,0.467-0.36,0.52L458.56,193.28z"/>
                                    <path id="store-d" class="store" data-name="store-d" fill="#FA8C00" d="M339,205c0-0.533,0.2-1,0.6-1.4
                                        c0.4-0.4,0.867-0.6,1.4-0.6c0.56,0,1.033,0.2,1.42,0.6c0.387,0.4,0.58,0.867,0.58,1.4c0,0.56-0.193,1.033-0.58,1.42
                                        c-0.387,0.387-0.86,0.58-1.42,0.58c-0.533,0-1-0.193-1.4-0.58C339.2,206.033,339,205.56,339,205z M349,205c0-0.533,0.2-1,0.6-1.4
                                        c0.4-0.4,0.867-0.6,1.4-0.6c0.56,0,1.033,0.2,1.42,0.6c0.387,0.4,0.58,0.867,0.58,1.4c0,0.56-0.193,1.033-0.58,1.42
                                        c-0.387,0.387-0.86,0.58-1.42,0.58c-0.533,0-1-0.193-1.4-0.58C349.2,206.033,349,205.56,349,205z M342.56,200.28
                                        c-0.48,0.133-0.707,0.287-0.68,0.46c0.027,0.173,0.32,0.26,0.88,0.26H354v1.52c0,0.267-0.133,0.4-0.4,0.4h-13.08
                                        c-0.267,0-0.4-0.133-0.4-0.4V201l-0.2-0.92l-1.96-9.08H336v-1.6c0-0.267,0.133-0.4,0.4-0.4h3.12c0.267,0,0.4,0.133,0.4,0.4v1.72
                                        H354v5.48c0,0.293-0.12,0.467-0.36,0.52L342.56,200.28z"/>
                                    <path id="store-1" class="store" data-name="store-1" fill="#FA8C00" d="M368,397c0-0.533,0.2-1,0.6-1.4
                                        s0.867-0.6,1.4-0.6c0.56,0,1.033,0.2,1.42,0.6c0.387,0.4,0.58,0.867,0.58,1.4c0,0.56-0.193,1.033-0.58,1.42
                                        c-0.387,0.387-0.86,0.58-1.42,0.58c-0.533,0-1-0.193-1.4-0.58C368.2,398.033,368,397.56,368,397z M378,397c0-0.533,0.2-1,0.6-1.4
                                        s0.867-0.6,1.4-0.6c0.56,0,1.033,0.2,1.42,0.6c0.387,0.4,0.58,0.867,0.58,1.4c0,0.56-0.193,1.033-0.58,1.42
                                        c-0.387,0.387-0.86,0.58-1.42,0.58c-0.533,0-1-0.193-1.4-0.58C378.2,398.033,378,397.56,378,397z M371.56,392.28
                                        c-0.48,0.133-0.707,0.287-0.68,0.46c0.027,0.173,0.32,0.26,0.88,0.26H383v1.52c0,0.267-0.133,0.4-0.4,0.4h-13.08
                                        c-0.267,0-0.4-0.133-0.4-0.4V393l-0.2-0.92l-1.96-9.08H365v-1.6c0-0.267,0.133-0.4,0.4-0.4h3.12c0.267,0,0.4,0.133,0.4,0.4v1.72
                                        H383v5.48c0,0.293-0.12,0.467-0.36,0.52L371.56,392.28z"/>
                                    <path id="store-2" class="store" data-name="store-2" fill="#FA8C00" d="M498,337c0-0.533,0.2-1,0.6-1.4
                                        s0.867-0.6,1.4-0.6c0.56,0,1.033,0.2,1.42,0.6c0.387,0.4,0.58,0.867,0.58,1.4c0,0.56-0.193,1.033-0.58,1.42
                                        c-0.387,0.387-0.86,0.58-1.42,0.58c-0.533,0-1-0.193-1.4-0.58C498.2,338.033,498,337.56,498,337z M508,337c0-0.533,0.2-1,0.6-1.4
                                        s0.867-0.6,1.4-0.6c0.56,0,1.033,0.2,1.42,0.6c0.387,0.4,0.58,0.867,0.58,1.4c0,0.56-0.193,1.033-0.58,1.42
                                        c-0.387,0.387-0.86,0.58-1.42,0.58c-0.533,0-1-0.193-1.4-0.58C508.2,338.033,508,337.56,508,337z M501.56,332.28
                                        c-0.48,0.133-0.707,0.287-0.68,0.46c0.027,0.173,0.32,0.26,0.88,0.26H513v1.52c0,0.267-0.133,0.4-0.4,0.4h-13.08
                                        c-0.267,0-0.4-0.133-0.4-0.4V333l-0.2-0.92l-1.96-9.08H495v-1.6c0-0.267,0.133-0.4,0.4-0.4h3.12c0.267,0,0.4,0.133,0.4,0.4v1.72
                                        H513v5.48c0,0.293-0.12,0.467-0.36,0.52L501.56,332.28z"/>
                                    <path id="store-3" class="store" data-name="store-3" fill="#FA8C00" d="M216,246c0-0.533,0.2-1,0.6-1.4
                                        c0.4-0.4,0.867-0.6,1.4-0.6c0.56,0,1.033,0.2,1.42,0.6c0.387,0.4,0.58,0.867,0.58,1.4c0,0.56-0.193,1.033-0.58,1.42
                                        c-0.387,0.387-0.86,0.58-1.42,0.58c-0.533,0-1-0.193-1.4-0.58C216.2,247.033,216,246.56,216,246z M226,246c0-0.533,0.2-1,0.6-1.4
                                        c0.4-0.4,0.867-0.6,1.4-0.6c0.56,0,1.033,0.2,1.42,0.6c0.387,0.4,0.58,0.867,0.58,1.4c0,0.56-0.193,1.033-0.58,1.42
                                        c-0.387,0.387-0.86,0.58-1.42,0.58c-0.533,0-1-0.193-1.4-0.58C226.2,247.033,226,246.56,226,246z M219.56,241.28
                                        c-0.48,0.133-0.707,0.287-0.68,0.46c0.027,0.173,0.32,0.26,0.88,0.26H231v1.52c0,0.267-0.133,0.4-0.4,0.4h-13.08
                                        c-0.267,0-0.4-0.133-0.4-0.4V242l-0.2-0.92l-1.96-9.08H213v-1.6c0-0.267,0.133-0.4,0.4-0.4h3.12c0.267,0,0.4,0.133,0.4,0.4v1.72
                                        H231v5.48c0,0.293-0.12,0.467-0.36,0.52L219.56,241.28z"/>
                                    <path id="store-4" class="store" data-name="store-4" fill="#FA8C00" d="M235,311c0-0.533,0.2-1,0.6-1.4
                                        c0.4-0.4,0.867-0.6,1.4-0.6c0.56,0,1.033,0.2,1.42,0.6c0.387,0.4,0.58,0.867,0.58,1.4c0,0.56-0.193,1.033-0.58,1.42
                                        c-0.387,0.387-0.86,0.58-1.42,0.58c-0.533,0-1-0.193-1.4-0.58C235.2,312.033,235,311.56,235,311z M245,311c0-0.533,0.2-1,0.6-1.4
                                        c0.4-0.4,0.867-0.6,1.4-0.6c0.56,0,1.033,0.2,1.42,0.6c0.387,0.4,0.58,0.867,0.58,1.4c0,0.56-0.193,1.033-0.58,1.42
                                        c-0.387,0.387-0.86,0.58-1.42,0.58c-0.533,0-1-0.193-1.4-0.58C245.2,312.033,245,311.56,245,311z M238.56,306.28
                                        c-0.48,0.133-0.707,0.287-0.68,0.46c0.027,0.173,0.32,0.26,0.88,0.26H250v1.52c0,0.267-0.133,0.4-0.4,0.4h-13.08
                                        c-0.267,0-0.4-0.133-0.4-0.4V307l-0.2-0.92l-1.96-9.08H232v-1.6c0-0.267,0.133-0.4,0.4-0.4h3.12c0.267,0,0.4,0.133,0.4,0.4v1.72
                                        H250v5.48c0,0.293-0.12,0.467-0.36,0.52L238.56,306.28z"/>
                                    <path id="store-5" class="store" data-name="store-5" fill="#FA8C00" d="M296,397c0-0.533,0.2-1,0.6-1.4
                                        s0.867-0.6,1.4-0.6c0.56,0,1.033,0.2,1.42,0.6c0.387,0.4,0.58,0.867,0.58,1.4c0,0.56-0.193,1.033-0.58,1.42
                                        c-0.387,0.387-0.86,0.58-1.42,0.58c-0.533,0-1-0.193-1.4-0.58C296.2,398.033,296,397.56,296,397z M306,397c0-0.533,0.2-1,0.6-1.4
                                        s0.867-0.6,1.4-0.6c0.56,0,1.033,0.2,1.42,0.6c0.387,0.4,0.58,0.867,0.58,1.4c0,0.56-0.193,1.033-0.58,1.42
                                        c-0.387,0.387-0.86,0.58-1.42,0.58c-0.533,0-1-0.193-1.4-0.58C306.2,398.033,306,397.56,306,397z M299.56,392.28
                                        c-0.48,0.133-0.707,0.287-0.68,0.46c0.027,0.173,0.32,0.26,0.88,0.26H311v1.52c0,0.267-0.133,0.4-0.4,0.4h-13.08
                                        c-0.267,0-0.4-0.133-0.4-0.4V393l-0.2-0.92l-1.96-9.08H293v-1.6c0-0.267,0.133-0.4,0.4-0.4h3.12c0.267,0,0.4,0.133,0.4,0.4v1.72
                                        H311v5.48c0,0.293-0.12,0.467-0.36,0.52L299.56,392.28z"/>
                                    <path id="store-6" class="store" data-name="store-6" fill="#FA8C00" d="M444,134c0-0.533,0.2-1,0.6-1.4
                                        c0.4-0.4,0.867-0.6,1.4-0.6c0.56,0,1.033,0.2,1.42,0.6c0.387,0.4,0.58,0.867,0.58,1.4c0,0.56-0.193,1.033-0.58,1.42
                                        c-0.387,0.387-0.86,0.58-1.42,0.58c-0.533,0-1-0.193-1.4-0.58C444.2,135.033,444,134.56,444,134z M454,134c0-0.533,0.2-1,0.6-1.4
                                        c0.4-0.4,0.867-0.6,1.4-0.6c0.56,0,1.033,0.2,1.42,0.6c0.387,0.4,0.58,0.867,0.58,1.4c0,0.56-0.193,1.033-0.58,1.42
                                        c-0.387,0.387-0.86,0.58-1.42,0.58c-0.533,0-1-0.193-1.4-0.58C454.2,135.033,454,134.56,454,134z M447.56,129.28
                                        c-0.48,0.133-0.707,0.287-0.68,0.46c0.027,0.173,0.32,0.26,0.88,0.26H459v1.52c0,0.267-0.133,0.4-0.4,0.4h-13.08
                                        c-0.267,0-0.4-0.133-0.4-0.4V130l-0.2-0.92l-1.96-9.08H441v-1.6c0-0.267,0.133-0.4,0.4-0.4h3.12c0.267,0,0.4,0.133,0.4,0.4v1.72
                                        H459v5.48c0,0.293-0.12,0.467-0.36,0.52L447.56,129.28z"/>
                                </g>
                                <path id="house-marker" data-name="house-marker" fill="#09BB9F" d="M479.017,210.62
                                    c4.293,3.72,7.627,6.58,10,8.58c0.267,0.213,0.4,0.48,0.4,0.8c0,0.28-0.1,0.527-0.3,0.74s-0.44,0.313-0.72,0.3h-2.1v7.28
                                    c0,0.28-0.1,0.527-0.3,0.74c-0.2,0.213-0.44,0.32-0.72,0.32h-3.12c-0.293,0-0.54-0.107-0.74-0.32c-0.2-0.213-0.307-0.46-0.32-0.74
                                    v-4.16h-4.18v4.16c0,0.28-0.1,0.527-0.3,0.74s-0.44,0.32-0.72,0.32h-3.12c-0.28,0-0.527-0.107-0.74-0.32
                                    c-0.213-0.213-0.32-0.46-0.32-0.74v-7.28h-2.06c-0.293,0-0.54-0.1-0.74-0.3c-0.2-0.2-0.307-0.447-0.32-0.74
                                    c-0.013-0.293,0.113-0.56,0.38-0.8L479.017,210.62z"/>
                                <g id="subway-marker" data-name="subway-marker">
                                    <path id="subway-d" class="subway" data-name="subway-d" fill="#333333" d="M235.514,250.065
                                        c1.373,0,2.553,0.347,3.54,1.04c0.987,0.693,1.473,1.54,1.46,2.54v10c0,0.96-0.467,1.78-1.4,2.46c-0.933,0.68-2.067,1.047-3.4,1.1
                                        l2.38,2.24c0.107,0.12,0.133,0.253,0.08,0.4c-0.053,0.147-0.167,0.22-0.34,0.22h-11.78c-0.16,0-0.273-0.073-0.34-0.22
                                        s-0.033-0.28,0.1-0.4l2.38-2.24c-1.347-0.04-2.487-0.407-3.42-1.1s-1.4-1.513-1.4-2.46v-10c0-1,0.487-1.847,1.46-2.54
                                        c0.973-0.693,2.153-1.04,3.54-1.04H235.514z M226.594,264.705c0.493,0,0.913-0.173,1.26-0.52c0.347-0.347,0.52-0.767,0.52-1.26
                                        s-0.173-0.913-0.52-1.26c-0.347-0.347-0.767-0.52-1.26-0.52s-0.913,0.173-1.26,0.52c-0.347,0.347-0.527,0.767-0.54,1.26
                                        s0.167,0.913,0.54,1.26C225.707,264.531,226.127,264.705,226.594,264.705z M231.234,258.645v-5.72h-6.08v5.72H231.234z
                                        M237.294,264.705c0.493,0,0.92-0.173,1.28-0.52c0.36-0.347,0.533-0.767,0.52-1.26s-0.187-0.913-0.52-1.26
                                        c-0.333-0.347-0.76-0.52-1.28-0.52s-0.94,0.173-1.26,0.52c-0.32,0.347-0.493,0.767-0.52,1.26s0.147,0.913,0.52,1.26
                                        C236.407,264.531,236.827,264.705,237.294,264.705z M239.094,258.645v-5.72h-6.44v5.72H239.094z"/>
                                    <path id="subway-m" class="subway" data-name="subway-m" fill="#333333" d="M335.563,384
                                        c1.373,0,2.553,0.347,3.54,1.04s1.473,1.54,1.46,2.54v10c0,0.96-0.467,1.78-1.4,2.46c-0.933,0.68-2.067,1.047-3.4,1.1l2.38,2.24
                                        c0.107,0.12,0.133,0.253,0.08,0.4c-0.053,0.147-0.167,0.22-0.34,0.22h-11.78c-0.16,0-0.273-0.073-0.34-0.22
                                        c-0.067-0.147-0.033-0.28,0.1-0.4l2.38-2.24c-1.347-0.04-2.487-0.407-3.42-1.1s-1.4-1.513-1.4-2.46v-10c0-1,0.487-1.847,1.46-2.54
                                        s2.153-1.04,3.54-1.04H335.563z M326.643,398.64c0.493,0,0.913-0.173,1.26-0.52c0.347-0.347,0.52-0.767,0.52-1.26
                                        c0-0.493-0.173-0.913-0.52-1.26c-0.347-0.347-0.767-0.52-1.26-0.52c-0.493,0-0.913,0.173-1.26,0.52
                                        c-0.347,0.347-0.527,0.767-0.54,1.26c-0.013,0.493,0.167,0.913,0.54,1.26C325.757,398.467,326.177,398.64,326.643,398.64z
                                        M331.283,392.58v-5.72h-6.08v5.72H331.283z M337.343,398.64c0.493,0,0.92-0.173,1.28-0.52c0.36-0.347,0.533-0.767,0.52-1.26
                                        c-0.013-0.493-0.187-0.913-0.52-1.26c-0.333-0.347-0.76-0.52-1.28-0.52c-0.52,0-0.94,0.173-1.26,0.52
                                        c-0.32,0.347-0.493,0.767-0.52,1.26c-0.027,0.493,0.147,0.913,0.52,1.26C336.457,398.467,336.877,398.64,337.343,398.64z
                                        M339.143,392.58v-5.72h-6.44v5.72H339.143z"/>
                                </g>
                                <path id="vm-legend" class="legend" data-name="vm-legend" fill="#EE493A" d="M54.838,27.4
                                    c0.004,1.353-0.279,2.691-0.832,3.926c-1.456,3.25-8.45,12.636-8.45,12.636s-6.968-9.386-8.45-12.636
                                    c-0.553-1.235-0.836-2.573-0.832-3.926c-0.043-5.169,4.112-9.395,9.281-9.438c0,0,0,0,0.001,0
                                    C50.725,18.005,54.881,22.23,54.838,27.4C54.838,27.399,54.838,27.4,54.838,27.4z"/>
                                <path id="store-legend" class="legend" data-name="store-legend" fill="#FA8C00" d="M39.273,96.505
                                    c0-0.533,0.2-1,0.6-1.4c0.4-0.4,0.867-0.6,1.4-0.6c0.56,0,1.033,0.2,1.42,0.6c0.387,0.4,0.58,0.867,0.58,1.4
                                    c0,0.56-0.193,1.033-0.58,1.42c-0.387,0.387-0.86,0.58-1.42,0.58c-0.533,0-1-0.193-1.4-0.58
                                    C39.473,97.539,39.273,97.065,39.273,96.505z M49.273,96.505c0-0.533,0.2-1,0.6-1.4c0.4-0.4,0.867-0.6,1.4-0.6
                                    c0.56,0,1.033,0.2,1.42,0.6s0.58,0.867,0.58,1.4c0,0.56-0.193,1.033-0.58,1.42s-0.86,0.58-1.42,0.58c-0.533,0-1-0.193-1.4-0.58
                                    C49.473,97.539,49.273,97.065,49.273,96.505z M42.833,91.785c-0.48,0.133-0.707,0.287-0.68,0.46c0.027,0.173,0.32,0.26,0.88,0.26
                                    h11.24v1.52c0,0.267-0.133,0.4-0.4,0.4h-13.08c-0.267,0-0.4-0.133-0.4-0.4v-1.52l-0.2-0.92l-1.96-9.08h-1.96v-1.6
                                    c0-0.267,0.133-0.4,0.4-0.4h3.12c0.267,0,0.4,0.133,0.4,0.4v1.72h14.08v5.48c0,0.293-0.12,0.467-0.36,0.52L42.833,91.785z"/>
                            </g>
                            <style>
                                #g-map-final-Artboard_1-interactions-img rect, #g-map-final-Artboard_1-interactions-img circle, #g-map-final-Artboard_1-interactions-img path, #g-map-final-Artboard_1-interactions-img line, #g-map-final-Artboard_1-interactions-img polyline, #g-map-final-Artboard_1-interactions-img polygon { vector-effect: non-scaling-stroke; }
                            </style>
                        </svg>

                        <div id="g-ai0-1" class="g-legend g-aiAbs" style="top:3.8%;left:9.4429%;width:19%;">
                            <p style="font-family:'Kaisei Decol', serif; font-size:18px"><b>vending machine</b></p>
                        </div>
                        <div id="g-ai0-2" class="g-legend g-aiAbs" style="top:16.2%;left:9.443%;width:21.4286%;">
                            <p style="font-family:'Kaisei Decol', serif; font-size:18px;"><b>convenience store,</b></p>
                            <p style="font-family:'Kaisei Decol', serif; font-size:18px;"><b>24/7 supermarket</b></p>
                        </div>
                        <div id="g-ai0-3" class="g-inset-map g-aiAbs" style="top:54%;left:3.586%;width:18.4286%;">
                            <p class="g-pstyle0">東京</p>
                            <p class="g-pstyle1" style="margin-top:1rem">Tokyo</p>
                        </div>
                        <div id="subway-text-d" class="g-marker_text g-aiAbs g-aiPointText" style="top:50.7926%;margin-top:-11px;left:21.8716%;width:79px;">
                            <p class="g-pstyle0">Subway</p>
                        </div>
                        <div id="subway-text-m" class="g-marker_text g-aiAbs g-aiPointText" style="top:84.1926%;margin-top:-11px;left:42.5864%;width:79px;">
                            <p class="g-pstyle0">Subway</p>
                        </div>
                        <div id="g-ai0-6" class="g-furniture g-aiAbs g-aiPointText" style="top:94.4194%;margin-top:-8.1px;left:12.1288%;width:31px;">
                            <p class="g-pstyle1">N</p>
                        </div>
                        <div id="g-ai0-7" class="g-furniture g-aiAbs g-aiPointText" style="top:96.5829%;margin-top:-6.9px;left:2.1429%;width:50px;">
                            <p class="g-pstyle2">100 m</p>
                        </div>
                        <div id="g-ai0-8" class="g-furniture g-aiAbs g-aiPointText" style="top:99.1012%;margin-top:-7.5px;left:78.1473%;width:33px;">
                            <p class="g-pstyle3">&copy; ​</p>
                        </div>
                        <div id="g-ai0-9" class="g-furniture g-aiAbs g-aiPointText" style="top:99.1012%;margin-top:-7.5px;left:79.7418%;width:100px;">
                            <p class="g-pstyle3">OpenStreetMap</p>
                        </div>
                        <div id="g-ai0-10" class="g-furniture g-aiAbs g-aiPointText" style="top:99.1012%;margin-top:-7.5px;left:90.8354%;width:83px;">
                            <p class="g-pstyle3">​ contributors</p>
                        </div>
                        <div id="g-ai0-11" class="g-marker_text g-aiAbs g-aiPointText" style="top:37.5126%;margin-top:-20.6px;left:69.9166%;width:68px;">
                            <p class="g-pstyle0">My </p>
                            <p class="g-pstyle0">House</p>
                        </div>
                    </div>
                </div>
                <!-- End ai2html - 2022-07-27 12:35 -->
                <!-- ai2html goes above this line -->
          </div>
        </div>

        <div class="scrolly-overlay">
            <div class="step" id="step-zero">
                <p>In Tokyo, even if you forget to carry a water bottle, you can buy a drink the moment you feel thirsty. Also in my neighborhood of Nihonbashi Hamacho, the area located aproximately 10-minute drive from Tokyo Station, vending machines and 24-hour convenience stores are everywhere.</p>
            </div>
            <div class="step" id="step-one">
                <p>Take a look at my daily commuting route. The distance from my house to the subway station is about 400 meters (a quarter mile),  which takes less than 10 minutes to walk.</p>
            </div>
            <div class="step" id="step-two">
                <p>Within a couple of minutes walk, there are three vending machines to choose from: water, green tea, barley tea, coffee, several kinds of juice, and even corn pottage.</p>
            </div>
            <div class="step" id="step-three">
                <p>And there are convenience stores and a 24-hour supermarket inside the station, as well as vending machines. Prices are as low as 100 to 130 yen (less than $1).</p>
                <p>In this overly convenient environment, many people do not carry water bottles and simply buy bottled or canned drinks outside.</p>
            </div>
            <div class="step" id="step-four">
                <p>Now it's my daughter's route to school.</p>
                <p>To meet classmates at the station, she uses a different entrance.</p>
            </div>
            <div class="step" id="step-five">
                <p>Four vending machines in her path too!</p>
            </div>
            <div class="step" id="step-six">
                <p>And one supermarket and one convenience store.</p>
                <p>She usually brings a water bottle with her lunch from home, but often forgets to bring it out and ends up buying one on the way (and asks me to pay for that, which I definitely refuse to).</p>
            </div>
            <div class="step" id="step-seven">
                <p>We take this "vending machine heaven" for granted and buy two or three bottled drinks a day at most, but the question is beginning to arise here;</p>
                <p style="font-family:'Kaisei Decol', serif; font-size: larger;"><i>"Does it really need to be that convenient?"</i></p>
            </div>
        </div>
    </section>

    <script>
    /* Scrollytelling code goes under here */
        //original image
        d3.selectAll(".path").classed('hidden', true)
        d3.select("#subway-text-d").classed('hidden', true)
        d3.select("#subway-text-m").classed('hidden', true)
        d3.select("#g-ai0-11").classed('hidden', true)
        
        //code for step 0: show the entire map w/o path
        d3.select("#step-zero").on('stepin', function(e){
            //unshow
            d3.selectAll(".path").classed('hidden', true)
            //reverse
            d3.select("#g-ai0-1").classed('hidden', false)　//legend-text
            d3.select("#g-ai0-2").classed('hidden', false) //legend-text
            d3.selectAll(".machine").classed('hidden', false)
            d3.selectAll(".store").classed('hidden', false)
            d3.selectAll(".legend").classed('hidden', false)
            d3.select("#subway-d").classed('hidden', false)
        })
        //code for step 1:
        //my path-1 
        //show my house and my path to the station w/o icons
        d3.select("#step-one").on('stepin', function(e){
            //unshow
            d3.select("#g-ai0-1").classed('hidden', true)　//legend-text machine
            d3.select("#g-ai0-2").classed('hidden', true) //legend-text store
            d3.selectAll(".machine").classed('hidden', true)
            d3.selectAll(".store").classed('hidden', true)
            d3.selectAll(".legend").classed('hidden', true)
            d3.select("#subway-d").classed('hidden', true)
            //show
            d3.select("#path-m").classed('hidden', false)
            d3.select("#subway-m").classed('hidden', false)
            //reverse
            d3.select("#vm-1").classed('hidden', true)
            d3.select("#vm-2").classed('hidden', true)
            d3.select("#vm-3").classed('hidden', true)
        })

        //code for step 2: 
        //my path-2
        //show my house and my path to the station with machine icons
        d3.select("#step-two").on('stepin', function(e){
            //show
            d3.select("#vm-legend").classed('hidden', false)
            d3.select("#g-ai0-1").classed('hidden', false)　//legend-text
            d3.select("#vm-1").classed('hidden', false)
            d3.select("#vm-2").classed('hidden', false)
            d3.select("#vm-3").classed('hidden', false)
            //reverse
            d3.select("#store-m").classed('hidden', true)
            d3.select("#store-1").classed('hidden', true)
            d3.select("#store-legend").classed('hidden', true)
            d3.select("#g-ai0-2").classed('hidden', true) //legend-text
        })

        //code for step 3:
        //my path-3
        //show my house and my path to the station with both machine & store icons
        d3.select("#step-three").on('stepin', function(e){
            //show
            //all legends
            d3.selectAll(".legend").classed('hidden', false)
            d3.select("#g-ai0-1").classed('hidden', false)
            d3.select("#g-ai0-2").classed('hidden', false)
            d3.select("#store-m").classed('hidden', false)
            d3.select("#store-1").classed('hidden', false)
            //reverse
            d3.select("#path-d").classed('hidden', true)
            d3.select("#subway-d").classed('hidden', true)
            d3.select("#path-m").classed('hidden', false)
            d3.select("#subway-m").classed('hidden', false)
            d3.select("#vm-1").classed('hidden', false)
            d3.select("#vm-2").classed('hidden', false)
            d3.select("#vm-3").classed('hidden', false)
        })
        //code for step 4:
        //daughter's path-1 
        //show my house and my daughter's path to the station w/o icons
        d3.select("#step-four").on('stepin', function(e){
            //show
            d3.select("#path-d").classed('hidden', false)
            d3.select("#subway-d").classed('hidden', false)
            //unshow
            d3.selectAll(".machine").classed('hidden', true)
            d3.selectAll(".store").classed('hidden', true)
            d3.selectAll(".legend").classed('hidden', true)
            d3.select("#g-ai0-1").classed('hidden', true)　//legend-text
            d3.select("#g-ai0-2").classed('hidden', true) //legend-text
            d3.select("#path-m").classed('hidden', true)
            d3.select("#subway-m").classed('hidden', true) 
           //reverse
            d3.select("#vm-d1").classed('hidden', true)
            d3.select("#vm-d2").classed('hidden', true)
            d3.select("#vm-d3").classed('hidden', true)
            d3.select("#vm-d4").classed('hidden', true)
        })

        //code for step 5:
        //my daughter's path-2
        //show my house and my daughter's path to the station with machine icons 
        d3.select("#step-five").on('stepin', function(e){
            //show
            d3.select("#vm-d1").classed('hidden', false)
            d3.select("#vm-d2").classed('hidden', false)
            d3.select("#vm-d3").classed('hidden', false)
            d3.select("#vm-d4").classed('hidden', false)
            d3.select("#vm-legend").classed('hidden', false)
            d3.select("#g-ai0-1").classed('hidden', false)　//legend-text
           //reverse
            d3.select("#store-d").classed('hidden', true)
            d3.select("#store-m").classed('hidden', true)
            d3.selectAll("#store-legend").classed('hidden', true)
            d3.select("#g-ai0-2").classed('hidden', true) //legend-text store
        })
        
        //code for step 6:
        //my daughter's path-3
        //show my house and my daughter's path to the station with both machine & store icons
        d3.select("#step-six").on('stepin', function(e){
             //reverse
            d3.selectAll("#path-d").classed('hidden', false)
            d3.select("#subway-m").classed('hidden', true)
            d3.selectAll(".machine").classed('hidden', true)
            d3.selectAll(".store").classed('hidden', true)
            //show
            d3.select("#vm-d1").classed('hidden', false)
            d3.select("#vm-d2").classed('hidden', false)
            d3.select("#vm-d3").classed('hidden', false)
            d3.select("#vm-d4").classed('hidden', false)
            d3.select("#store-d").classed('hidden', false)
            d3.select("#store-m").classed('hidden', false)
            d3.selectAll(".legend").classed('hidden', false)
            d3.select("#g-ai0-2").classed('hidden', false) //legend-text store
        })
        
        //code for step 7:
        //showing everything
        //show my house and my daughter's path to the station with both machine & store icons
        d3.select("#step-seven").on('stepin', function(e){
            //show
            d3.selectAll(".path").classed('hidden', true)
            d3.selectAll(".machine").classed('hidden', false)
            d3.selectAll(".store").classed('hidden', false)
            d3.select("#subway-m").classed('hidden', false)
        })

  
    </script>
  

    <script>
        const scroller = scrollama();

        scroller
            .setup({
                step: "#scrolly .scrolly-overlay .step",
                offset: 0.75,
                debug: false
            })
            .onStepEnter(function({ element, index, direction}) {
                const event = new CustomEvent('stepin', { detail: { direction: direction } })
                element.dispatchEvent(event);
            })
            .onStepExit(function({ element, index, direction }) {
                const event = new CustomEvent('stepout', { detail: { direction: direction } })
                element.dispatchEvent(event);
            });

        window.addEventListener("resize", scroller.resize);
        </script>
        <!-- ai2html resizer script -->

    <script type="text/javascript">
    (function() {
        // only want one resizer on the page
        if (document.documentElement.className.indexOf("g-resizer-v3-init") > -1) return;
        document.documentElement.className += " g-resizer-v3-init";
        // require IE9+
        if (!("querySelector" in document)) return;
        function resizer() {
            var elements = Array.prototype.slice.call(document.querySelectorAll(".g-artboard[data-min-width]")),
                widthById = {};
            elements.forEach(function(el) {
                var parent = el.parentNode,
                    width = widthById[parent.id] || parent.getBoundingClientRect().width,
                    minwidth = el.getAttribute("data-min-width"),
                    maxwidth = el.getAttribute("data-max-width");
                widthById[parent.id] = width;

                if (+minwidth <= width && (+maxwidth >= width || maxwidth === null)) {
                    el.style.display = "block";
                } else {
                    el.style.display = "none";
                }
            });
            try {
                if (window.parent && window.parent.$) {
                    window.parent.$("body").trigger("resizedcontent", [window]);
                }
                if (window.require) {
                    require(['foundation/main'], function() {
                        require(['shared/interactive/instances/app-communicator'], function(AppCommunicator) {
                            AppCommunicator.triggerResize();
                        });
                    });
                }
            } catch(e) { console.log(e); }
        }

        document.addEventListener('DOMContentLoaded', resizer);
        // feel free to replace throttle with _.throttle, if available
        window.addEventListener('resize', throttle(resizer, 200));        

        function throttle(func, wait) {
            // from underscore.js
            var _now = Date.now || function() { return new Date().getTime(); },
                context, args, result, timeout = null, previous = 0;
            var later = function() {
                previous = _now();
                timeout = null;
                result = func.apply(context, args);
                if (!timeout) context = args = null;
            };
            return function() {
                var now = _now(), remaining = wait - (now - previous);
                context = this;
                args = arguments;
                if (remaining <= 0 || remaining > wait) {
                    if (timeout) {
                        clearTimeout(timeout);
                        timeout = null;
                    }
                    previous = now;
                    result = func.apply(context, args);
                    if (!timeout) context = args = null;
                } else if (!timeout && options.trailing !== false) {
                    timeout = setTimeout(later, remaining);
                }
                return result;
            };
        }

        
    })();
    </script>
    <section id="outro">
        <div class="plot-holder">
            <p style="font-family:'Kaisei Decol', serif; font-size: 24px; margin-bottom: 2rem;">
                値段は１ドル以下
                <br>Less than a dollar for a drink
            </p>
            <div class="plot-holder">
                <img src="pexels-spencer-battista-5362207.jpeg"></img>
                <p style="font-size:small; margin-bottom:5rem">Photo by Spencer Battista/<a href="https://www.pexels.com/photo/photograph-of-vending-machines-near-a-red-building-5362207/">Pexels</a></p>
                <p>
                    As drinks can be purchased throughout the city, there tends to be less incentive to buy refillable drinks or carry water bottles.
                </p>
                <p>
                    According to a study by the Minderoo Foundation, Japan is one of the countries with the largest amount of plastic wastes in the world, with the amount of 37kg per person and nearly 5 million tons a year as a whole nation.
                </p>
            </div>
        </div>

        <div class="plot-holder">
            <p style="font-family:'Kaisei Decol', serif; font-size: 24px; margin-bottom: 2rem;">
                世界有数のプラスチック廃棄量
                <br>Single-use plastic wastes per capita, per year
            </p>
            <div class="flourish-embed" data-src="visualisation/10771733" style="margin-bottom:3rem"><script src="https://public.flourish.studio/resources/embed.js"></script></div>
            <p>
                Although there are recycling bins throughout the city to collect plastic bottles and the recycling rate is as high as 84%, only 30% of the collected plastics are recycled, and remaining 70% incinerated.
            </p>
            <p>
                With growing concerns about the impact of microplastics on ecosystems and other issues, it is time to consider the balance between convenience and the environment.
            </p>
        </div>
        <p></p>
        <p style="font-size: small; margin-top: 2rem; margin-bottom:5rem;">
            <i>All the code and data for this project is available on <a href="https://github.com/miotomita/vending-machine">GitHub</a></i><br>
            Copyright 2020 <a href="https://github.com/Font-Kai">The Font-Kai Project Authors</a>, all rights reserved.
        </p>
    </section>

  </body>
</html>